
This code is a part of a bigger logic from an app that call the dropbox api and renders its content into a page. Currently it performs a lazy loading of the overall tree structure of the parent folder. Its purpose is to store the path of every particular folder it contains, wich does correctly. The problem lies in the index file, once the first call to the overall structure is made (the getArbolOG method), it must wait until the user inputs a project code (or search for one in LocalStorage) and then, with the code provided, search for it in the mapped tree (from the getArbolOG method), retrieve the correct path, and then call the dropbox API to fileListFolderContinue the files inside that particular folder. Only then it should update the state with the information provided

i want you to think step by step how to do this. It's possible that the information from the fileListFolderContinue must be formatted first before being applied to the state (using for example the build structure method)